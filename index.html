<html>
    <style>
        h1 {text-align: center;}
        body {background-color: #E4DBBF;}
        tab { padding-left: 4em; }
        #footer {
            position: fixed;
            padding: 10px 10px 0px 10px;
            bottom: 0;
            width: 100%;
            height: 40px;
            text-align: center;
        }
    </style>
        <head> <br> <h1>OCI Functions Application Performance Monitoring (APM) Demo </h1></head><br><br>
    <body>
        <button type="button" onclick="fetchProducts()">Fetch Products</button>
        <h3>BRAND <tab>TITLE </tab><tab> DESCRIPTION</tab></h3>
        <div id=demo>
            <h3>The Query fetched from the Autonomous Database (ATP) would appear here</h3>
        </div>      
     <script>
        function fetchProducts() {
            
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    var i;
                    var text='';
                    //console.log(this.responseText)
                    //console.log(this)

                    var json = JSON.parse(this.responseText);
                    //console.log (json.metaData[0].name)
                    
                    for (i = 0; i < json.rows.length; i++) {
                        //console.log(json.rows[i], i)
                        text += json.rows[i][0] + '<tab>' + json.rows[i][1] + '</tab><tab>' + json.rows[i][2] + '</tab><br>'
                        document.getElementById("demo").innerHTML = text;
                    } 
                }
            };
            xhttp.open("GET", "https://your-api-gateway.apigateway.ap-sydney-1.oci.customer-oci.com/", true);
            xhttp.send();
        }
     </script>

      <div id=footer>
        Copyright Â© 2014, 2021 Oracle and/or its affiliates All rights reserved.
     <script>
        window.apmrum || (apmrum = {});
        window.apmrum.serviceName='APM-FN-SERVICE';
        window.apmrum.webApplication='APM-FN-APP';  //optional            
        window.apmrum.ociCollectorDomain='your-apm-upload-endpoint.apm-agt.us-ashburn-1.oci.oraclecloud.com'; //playground
        window.apmrum.OracleAPMPublicDataKey='your-apm-public-data-key';
     </script>
    <script async crossorigin="anonymous" src="https://your-apm-upload-endpoint.apm-agt.us-ashburn-1.oci.oraclecloud.com/static/jslib/apmrum.min.js">            //Newer versions of the java script will be updated to that static location, see other pinned message in this channel for instruction how to add the latest ve
    </script>
    </div>
 
    </body>
</html>